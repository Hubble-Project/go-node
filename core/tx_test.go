package core

import (
	"encoding/hex"
	"fmt"
	"testing"
)

func TestCompression(t *testing.T) {
	tx := NewTx(2, 3, 1, 1, "0x94528175e1bb91e6e11ae8b0dae313996291b28a716b004f2ba0e5b3b6f64b23", 1)
	fmt.Println("Tx created", tx.String())
	txBytes, _ := tx.Compress()
	// 000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000042307839343532383137356531626239316536653131616538623064616533313339393632393162323861373136623030346632626130653562336236663634623233000000000000000000000000000000000000000000000000000000000000
	fmt.Println("Tx created", hex.EncodeToString(txBytes))

	tx, err := DeCompress(txBytes)
	fmt.Println("tx", tx.String(), "error", err)
}

func TestDecompression(t *testing.T) {
	txBytes, err := hex.DecodeString("000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000042307839343532383137356531626239316536653131616538623064616533313339393632393162323861373136623030346632626130653562336236663634623233000000000000000000000000000000000000000000000000000000000000")
	fmt.Println("err", err)
	tx, err := DeCompress(txBytes)
	fmt.Println("tx", tx.String(), "error", err)
}
